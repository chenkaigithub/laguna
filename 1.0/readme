1. About:
- Out-of-bound architecture. 
- It analyzes URL signature pattern and performs man in the middle attack of injecting RST/FIN & 302 redir.
- It sends 302 redir info to reverse proxy (edge server or Transparent caching server (TCS)) and prepends below info and construct the "location:" format:
"http://<edge proxy hostname address>/ccur/<site type>/<site target>/tcshost/<video server host address>/tcskey/<cache key id >/tcsopt/<options>/tcsosig/<original URL signature>

Below is the diagram is the testing network topology:
TR sends 302 to clients and RST to target video servers.


               Youtube/Netflix/etc Video Servers
                 |   |   |   |   |   | 
                         |
                         |
                         |
                 ~~~~~~~~~~~
                (           )
                ( Internet  )
                (           )
                (~~~~~~~~~~~)                
                      |
|-------|             |
|       |             |
|  TCS  |---------|   |
|       |         |   |
|-------|         |   |
                  |   |
|-------|       |----------|
|       |      *|          |
|   TR  |-------|  Switch  |
|       |       |          |
|-------|       |----------|
                    *| 
                     |
                     |
                 | | | | | 
                 n-clients

*Mirror port

2. Building rpm:
- "make PFRING=1 package" or "make package" will create rpm with pfring support as packet capture.
- the output rpm: <home dir>/install/rpm/x86_64/release/RPMS/x86_64/transparent_caching-x.x.x-x.x86_64.rpm

3. Configurations:
- Modify /etc/sysconfig/transparent_caching/config.yaml to specify redir location, monitoring interface and outgoing interface. 
- (optional) modify /etc/sysconfig/transparent_caching/trlog.conf for thd main to show "INFO" output results to console or whatever file you want.

4. Running:
- "service restart transc"
- Go to youtube, netflix, etc site and play any clip and check output log (/var/log/trservice.log and /var/log/trcomp.log).

Notes:
1. compiling with libpcap support
- Add PFRING=0 command for make, in order to build libpcap version of control plane. EX: "make PFRING=0 package"

2.Misc info:
- Valgrind vs liblfds: 
valgrind does not understand some of the instructions set pprovided by liblfds - lockless operations, this issue will be addressed on version liblfds v.7.0.0.
http://www.liblfds.org/phpBB3/viewtopic.php?f=2&t=482
